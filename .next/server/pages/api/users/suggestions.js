"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users/suggestions";
exports.ids = ["pages/api/users/suggestions"];
exports.modules = {

/***/ "@next-auth/prisma-adapter":
/*!********************************************!*\
  !*** external "@next-auth/prisma-adapter" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/prisma-adapter");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next-auth/providers/linkedin":
/*!***********************************************!*\
  !*** external "next-auth/providers/linkedin" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/linkedin");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "winston":
/*!**************************!*\
  !*** external "winston" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("winston");

/***/ }),

/***/ "zod":
/*!**********************!*\
  !*** external "zod" ***!
  \**********************/
/***/ ((module) => {

module.exports = import("zod");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fsuggestions&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cusers%5Csuggestions.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fsuggestions&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cusers%5Csuggestions.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_users_suggestions_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\users\\suggestions.ts */ \"(api)/./src/pages/api/users/suggestions.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_users_suggestions_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_users_suggestions_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_users_suggestions_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_users_suggestions_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users/suggestions\",\n        pathname: \"/api/users/suggestions\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_users_suggestions_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJTJGc3VnZ2VzdGlvbnMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q3VzZXJzJTVDc3VnZ2VzdGlvbnMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDcUU7QUFDckU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGdFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxnRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVjYXRpb25hbC1wbGF0Zm9ybS8/NTc3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFx1c2Vyc1xcXFxzdWdnZXN0aW9ucy50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJzL3N1Z2dlc3Rpb25zXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlcnMvc3VnZ2VzdGlvbnNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fsuggestions&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cusers%5Csuggestions.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/apiResponse.ts":
/*!********************************!*\
  !*** ./src/lib/apiResponse.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApiResponse: () => (/* binding */ createApiResponse),\n/* harmony export */   createErrorResponse: () => (/* binding */ createErrorResponse),\n/* harmony export */   createForbiddenResponse: () => (/* binding */ createForbiddenResponse),\n/* harmony export */   createInternalErrorResponse: () => (/* binding */ createInternalErrorResponse),\n/* harmony export */   createMethodNotAllowedResponse: () => (/* binding */ createMethodNotAllowedResponse),\n/* harmony export */   createNotFoundResponse: () => (/* binding */ createNotFoundResponse),\n/* harmony export */   createUnauthorizedResponse: () => (/* binding */ createUnauthorizedResponse),\n/* harmony export */   createValidationErrorResponse: () => (/* binding */ createValidationErrorResponse)\n/* harmony export */ });\nfunction createApiResponse(data, message) {\n    const response = {\n        success: true,\n        data\n    };\n    if (message) {\n        response.message = message;\n    }\n    return response;\n}\nfunction createErrorResponse(message, code, details) {\n    const response = {\n        success: false,\n        error: {\n            message,\n            code\n        }\n    };\n    if (details) {\n        response.error.details = details;\n    }\n    return response;\n}\nfunction createValidationErrorResponse(details) {\n    return createErrorResponse(\"Validation error\", \"VALIDATION_ERROR\", details);\n}\nfunction createForbiddenResponse(message = \"Forbidden\") {\n    return createErrorResponse(message, \"FORBIDDEN\");\n}\nfunction createUnauthorizedResponse(message = \"Unauthorized\") {\n    return createErrorResponse(message, \"UNAUTHORIZED\");\n}\nfunction createNotFoundResponse(message = \"Not found\") {\n    return createErrorResponse(message, \"NOT_FOUND\");\n}\nfunction createInternalErrorResponse(message = \"Internal server error\") {\n    return createErrorResponse(message, \"INTERNAL_SERVER_ERROR\");\n}\nfunction createMethodNotAllowedResponse(method) {\n    return createErrorResponse(`Method ${method} Not Allowed`, \"METHOD_NOT_ALLOWED\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2FwaVJlc3BvbnNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRU8sU0FBU0Esa0JBQXFCQyxJQUFPLEVBQUVDLE9BQWdCO0lBQzVELE1BQU1DLFdBQTJCO1FBQy9CQyxTQUFTO1FBQ1RIO0lBQ0Y7SUFFQSxJQUFJQyxTQUFTO1FBQ1hDLFNBQVNELE9BQU8sR0FBR0E7SUFDckI7SUFFQSxPQUFPQztBQUNUO0FBRU8sU0FBU0Usb0JBQ2RILE9BQWUsRUFDZkksSUFBZSxFQUNmQyxPQUFpQjtJQUVqQixNQUFNSixXQUF3QjtRQUM1QkMsU0FBUztRQUNUSSxPQUFPO1lBQ0xOO1lBQ0FJO1FBQ0Y7SUFDRjtJQUVBLElBQUlDLFNBQVM7UUFDWEosU0FBU0ssS0FBSyxDQUFFRCxPQUFPLEdBQUdBO0lBQzVCO0lBRUEsT0FBT0o7QUFDVDtBQUVPLFNBQVNNLDhCQUE4QkYsT0FBZ0I7SUFDNUQsT0FBT0Ysb0JBQW9CLG9CQUFvQixvQkFBb0JFO0FBQ3JFO0FBRU8sU0FBU0csd0JBQXdCUixVQUFVLFdBQVc7SUFDM0QsT0FBT0csb0JBQW9CSCxTQUFTO0FBQ3RDO0FBRU8sU0FBU1MsMkJBQTJCVCxVQUFVLGNBQWM7SUFDakUsT0FBT0csb0JBQW9CSCxTQUFTO0FBQ3RDO0FBRU8sU0FBU1UsdUJBQXVCVixVQUFVLFdBQVc7SUFDMUQsT0FBT0csb0JBQW9CSCxTQUFTO0FBQ3RDO0FBRU8sU0FBU1csNEJBQTRCWCxVQUFVLHVCQUF1QjtJQUMzRSxPQUFPRyxvQkFBb0JILFNBQVM7QUFDdEM7QUFFTyxTQUFTWSwrQkFBK0JDLE1BQWM7SUFDM0QsT0FBT1Ysb0JBQW9CLENBQUMsT0FBTyxFQUFFVSxPQUFPLFlBQVksQ0FBQyxFQUFFO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1Y2F0aW9uYWwtcGxhdGZvcm0vLi9zcmMvbGliL2FwaVJlc3BvbnNlLnRzP2YwMGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBpUmVzcG9uc2UsIEVycm9yQ29kZSB9IGZyb20gJ0AvdHlwZXMvYXBpJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFwaVJlc3BvbnNlPFQ+KGRhdGE6IFQsIG1lc3NhZ2U/OiBzdHJpbmcpOiBBcGlSZXNwb25zZTxUPiB7XG4gIGNvbnN0IHJlc3BvbnNlOiBBcGlSZXNwb25zZTxUPiA9IHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRhdGFcbiAgfTtcbiAgXG4gIGlmIChtZXNzYWdlKSB7XG4gICAgcmVzcG9uc2UubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cbiAgXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yUmVzcG9uc2UoXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgY29kZTogRXJyb3JDb2RlLFxuICBkZXRhaWxzPzogdW5rbm93blxuKTogQXBpUmVzcG9uc2Uge1xuICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2UgPSB7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgZXJyb3I6IHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBjb2RlXG4gICAgfVxuICB9O1xuICBcbiAgaWYgKGRldGFpbHMpIHtcbiAgICByZXNwb25zZS5lcnJvciEuZGV0YWlscyA9IGRldGFpbHM7XG4gIH1cbiAgXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbGlkYXRpb25FcnJvclJlc3BvbnNlKGRldGFpbHM6IHVua25vd24pOiBBcGlSZXNwb25zZSB7XG4gIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKCdWYWxpZGF0aW9uIGVycm9yJywgJ1ZBTElEQVRJT05fRVJST1InLCBkZXRhaWxzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvcmJpZGRlblJlc3BvbnNlKG1lc3NhZ2UgPSAnRm9yYmlkZGVuJyk6IEFwaVJlc3BvbnNlIHtcbiAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UobWVzc2FnZSwgJ0ZPUkJJRERFTicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5hdXRob3JpemVkUmVzcG9uc2UobWVzc2FnZSA9ICdVbmF1dGhvcml6ZWQnKTogQXBpUmVzcG9uc2Uge1xuICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZShtZXNzYWdlLCAnVU5BVVRIT1JJWkVEJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RGb3VuZFJlc3BvbnNlKG1lc3NhZ2UgPSAnTm90IGZvdW5kJyk6IEFwaVJlc3BvbnNlIHtcbiAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UobWVzc2FnZSwgJ05PVF9GT1VORCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxFcnJvclJlc3BvbnNlKG1lc3NhZ2UgPSAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyk6IEFwaVJlc3BvbnNlIHtcbiAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UobWVzc2FnZSwgJ0lOVEVSTkFMX1NFUlZFUl9FUlJPUicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWV0aG9kTm90QWxsb3dlZFJlc3BvbnNlKG1ldGhvZDogc3RyaW5nKTogQXBpUmVzcG9uc2Uge1xuICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZShgTWV0aG9kICR7bWV0aG9kfSBOb3QgQWxsb3dlZGAsICdNRVRIT0RfTk9UX0FMTE9XRUQnKTtcbn0gIl0sIm5hbWVzIjpbImNyZWF0ZUFwaVJlc3BvbnNlIiwiZGF0YSIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsInN1Y2Nlc3MiLCJjcmVhdGVFcnJvclJlc3BvbnNlIiwiY29kZSIsImRldGFpbHMiLCJlcnJvciIsImNyZWF0ZVZhbGlkYXRpb25FcnJvclJlc3BvbnNlIiwiY3JlYXRlRm9yYmlkZGVuUmVzcG9uc2UiLCJjcmVhdGVVbmF1dGhvcml6ZWRSZXNwb25zZSIsImNyZWF0ZU5vdEZvdW5kUmVzcG9uc2UiLCJjcmVhdGVJbnRlcm5hbEVycm9yUmVzcG9uc2UiLCJjcmVhdGVNZXRob2ROb3RBbGxvd2VkUmVzcG9uc2UiLCJtZXRob2QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/apiResponse.ts\n");

/***/ }),

/***/ "(api)/./src/lib/errors.ts":
/*!***************************!*\
  !*** ./src/lib/errors.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthenticationError: () => (/* binding */ AuthenticationError),\n/* harmony export */   AuthorizationError: () => (/* binding */ AuthorizationError),\n/* harmony export */   CacheError: () => (/* binding */ CacheError),\n/* harmony export */   DatabaseError: () => (/* binding */ DatabaseError),\n/* harmony export */   ExternalServiceError: () => (/* binding */ ExternalServiceError),\n/* harmony export */   FileUploadError: () => (/* binding */ FileUploadError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   RateLimitError: () => (/* binding */ RateLimitError),\n/* harmony export */   SocketError: () => (/* binding */ SocketError),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError)\n/* harmony export */ });\nclass ValidationError extends Error {\n    constructor(message, details){\n        super(message);\n        this.details = details;\n        this.name = \"ValidationError\";\n    }\n}\nclass AuthenticationError extends Error {\n    constructor(message = \"لطفا وارد حساب کاربری خود شوید\"){\n        super(message);\n        this.name = \"AuthenticationError\";\n    }\n}\nclass AuthorizationError extends Error {\n    constructor(message = \"شما دسترسی به این بخش را ندارید\"){\n        super(message);\n        this.name = \"AuthorizationError\";\n    }\n}\nclass NotFoundError extends Error {\n    constructor(message = \"مورد درخواستی یافت نشد\"){\n        super(message);\n        this.name = \"NotFoundError\";\n    }\n}\nclass DatabaseError extends Error {\n    constructor(message = \"خطا در پایگاه داده\"){\n        super(message);\n        this.name = \"DatabaseError\";\n    }\n}\nclass FileUploadError extends Error {\n    constructor(message = \"خطا در آپلود فایل\"){\n        super(message);\n        this.name = \"FileUploadError\";\n    }\n}\nclass RateLimitError extends Error {\n    constructor(message = \"تعداد درخواست‌های شما بیش از حد مجاز است\"){\n        super(message);\n        this.name = \"RateLimitError\";\n    }\n}\nclass SocketError extends Error {\n    constructor(message = \"خطا در ارتباط با سرور\"){\n        super(message);\n        this.name = \"SocketError\";\n    }\n}\nclass CacheError extends Error {\n    constructor(message = \"خطا در کش\"){\n        super(message);\n        this.name = \"CacheError\";\n    }\n}\nclass ExternalServiceError extends Error {\n    constructor(message = \"خطا در سرویس خارجی\", service){\n        super(message);\n        this.service = service;\n        this.name = \"ExternalServiceError\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2Vycm9ycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRU8sTUFBTUEsd0JBQXdCQztJQUNuQ0MsWUFDRUMsT0FBZSxFQUNmLE9BRUMsQ0FDRDtRQUNBLEtBQUssQ0FBQ0E7YUFKQ0MsVUFBQUE7UUFLUCxJQUFJLENBQUNDLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFFTyxNQUFNQyw0QkFBNEJMO0lBQ3ZDQyxZQUFZQyxVQUFrQixnQ0FBZ0MsQ0FBRTtRQUM5RCxLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDRSxJQUFJLEdBQUc7SUFDZDtBQUNGO0FBRU8sTUFBTUUsMkJBQTJCTjtJQUN0Q0MsWUFBWUMsVUFBa0IsaUNBQWlDLENBQUU7UUFDL0QsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0UsSUFBSSxHQUFHO0lBQ2Q7QUFDRjtBQUVPLE1BQU1HLHNCQUFzQlA7SUFDakNDLFlBQVlDLFVBQWtCLHdCQUF3QixDQUFFO1FBQ3RELEtBQUssQ0FBQ0E7UUFDTixJQUFJLENBQUNFLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFFTyxNQUFNSSxzQkFBc0JSO0lBQ2pDQyxZQUFZQyxVQUFrQixvQkFBb0IsQ0FBRTtRQUNsRCxLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDRSxJQUFJLEdBQUc7SUFDZDtBQUNGO0FBRU8sTUFBTUssd0JBQXdCVDtJQUNuQ0MsWUFBWUMsVUFBa0IsbUJBQW1CLENBQUU7UUFDakQsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0UsSUFBSSxHQUFHO0lBQ2Q7QUFDRjtBQUVPLE1BQU1NLHVCQUF1QlY7SUFDbENDLFlBQVlDLFVBQWtCLDBDQUEwQyxDQUFFO1FBQ3hFLEtBQUssQ0FBQ0E7UUFDTixJQUFJLENBQUNFLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFFTyxNQUFNTyxvQkFBb0JYO0lBQy9CQyxZQUFZQyxVQUFrQix1QkFBdUIsQ0FBRTtRQUNyRCxLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDRSxJQUFJLEdBQUc7SUFDZDtBQUNGO0FBRU8sTUFBTVEsbUJBQW1CWjtJQUM5QkMsWUFBWUMsVUFBa0IsV0FBVyxDQUFFO1FBQ3pDLEtBQUssQ0FBQ0E7UUFDTixJQUFJLENBQUNFLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFFTyxNQUFNUyw2QkFBNkJiO0lBQ3hDQyxZQUNFQyxVQUFrQixvQkFBb0IsRUFDdEMsT0FBc0IsQ0FDdEI7UUFDQSxLQUFLLENBQUNBO2FBRkNZLFVBQUFBO1FBR1AsSUFBSSxDQUFDVixJQUFJLEdBQUc7SUFDZDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1Y2F0aW9uYWwtcGxhdGZvcm0vLi9zcmMvbGliL2Vycm9ycy50cz80NTFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgcHVibGljIGRldGFpbHM/OiB7XG4gICAgICBlcnJvcnM6IHouWm9kSXNzdWVbXTtcbiAgICB9XG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcgPSAn2YTYt9mB2Kcg2YjYp9ix2K8g2K3Ys9in2Kgg2qnYp9ix2KjYsduMINiu2YjYryDYtNmI24zYrycpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnQXV0aGVudGljYXRpb25FcnJvcic7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gJ9i02YXYpyDYr9iz2KrYsdiz24wg2KjZhyDYp9uM2YYg2KjYrti0INix2Kcg2YbYr9in2LHbjNivJykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdBdXRob3JpemF0aW9uRXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcgPSAn2YXZiNix2K8g2K/Ysdiu2YjYp9iz2KrbjCDbjNin2YHYqiDZhti02K8nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ05vdEZvdW5kRXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcgPSAn2K7Yt9inINiv2LEg2b7Yp9uM2q/Yp9mHINiv2KfYr9mHJykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdEYXRhYmFzZUVycm9yJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsZVVwbG9hZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcgPSAn2K7Yt9inINiv2LEg2KLZvtmE2YjYryDZgdin24zZhCcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnRmlsZVVwbG9hZEVycm9yJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmF0ZUxpbWl0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZyA9ICfYqti52K/Yp9ivINiv2LHYrtmI2KfYs9iq4oCM2YfYp9uMINi02YXYpyDYqNuM2LQg2KfYsiDYrdivINmF2KzYp9iyINin2LPYqicpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnUmF0ZUxpbWl0RXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTb2NrZXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gJ9iu2LfYpyDYr9ixINin2LHYqtio2KfYtyDYqNinINiz2LHZiNixJykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdTb2NrZXRFcnJvcic7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhY2hlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZyA9ICfYrti32Kcg2K/YsSDaqdi0Jykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdDYWNoZUVycm9yJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXh0ZXJuYWxTZXJ2aWNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyA9ICfYrti32Kcg2K/YsSDYs9ix2YjbjNizINiu2KfYsdis24wnLFxuICAgIHB1YmxpYyBzZXJ2aWNlOiBzdHJpbmdcbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ0V4dGVybmFsU2VydmljZUVycm9yJztcbiAgfVxufSAiXSwibmFtZXMiOlsiVmFsaWRhdGlvbkVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwibmFtZSIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJBdXRob3JpemF0aW9uRXJyb3IiLCJOb3RGb3VuZEVycm9yIiwiRGF0YWJhc2VFcnJvciIsIkZpbGVVcGxvYWRFcnJvciIsIlJhdGVMaW1pdEVycm9yIiwiU29ja2V0RXJyb3IiLCJDYWNoZUVycm9yIiwiRXh0ZXJuYWxTZXJ2aWNlRXJyb3IiLCJzZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/errors.ts\n");

/***/ }),

/***/ "(api)/./src/lib/logger.ts":
/*!***************************!*\
  !*** ./src/lib/logger.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logError: () => (/* binding */ logError),\n/* harmony export */   logRequest: () => (/* binding */ logRequest),\n/* harmony export */   logSecurityEvent: () => (/* binding */ logSecurityEvent),\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\n/* harmony import */ var winston__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! winston */ \"winston\");\n/* harmony import */ var winston__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(winston__WEBPACK_IMPORTED_MODULE_0__);\n\n// Log format\nconst logFormat = winston__WEBPACK_IMPORTED_MODULE_0___default().format.combine(winston__WEBPACK_IMPORTED_MODULE_0___default().format.timestamp(), winston__WEBPACK_IMPORTED_MODULE_0___default().format.errors({\n    stack: true\n}), winston__WEBPACK_IMPORTED_MODULE_0___default().format.json());\n// Create logger instance\nconst logger = winston__WEBPACK_IMPORTED_MODULE_0___default().createLogger({\n    level:  false ? 0 : \"debug\",\n    format: logFormat,\n    defaultMeta: {\n        service: \"api\"\n    },\n    transports: [\n        // Write all logs to console\n        new (winston__WEBPACK_IMPORTED_MODULE_0___default().transports).Console({\n            format: winston__WEBPACK_IMPORTED_MODULE_0___default().format.combine(winston__WEBPACK_IMPORTED_MODULE_0___default().format.colorize(), winston__WEBPACK_IMPORTED_MODULE_0___default().format.simple())\n        }),\n        // Write all logs with level 'error' and below to error.log\n        new (winston__WEBPACK_IMPORTED_MODULE_0___default().transports).File({\n            filename: \"logs/error.log\",\n            level: \"error\",\n            maxsize: 5242880,\n            maxFiles: 5\n        }),\n        // Write all logs with level 'info' and below to combined.log\n        new (winston__WEBPACK_IMPORTED_MODULE_0___default().transports).File({\n            filename: \"logs/combined.log\",\n            maxsize: 5242880,\n            maxFiles: 5\n        })\n    ]\n});\n// Request logging\nconst logRequest = (req)=>{\n    return {\n        method: req.method,\n        url: req.url,\n        query: req.query,\n        body: req.body,\n        user: req.user?.id,\n        ip: req.headers[\"x-forwarded-for\"] || req.socket.remoteAddress\n    };\n};\n// Error logging\nconst logError = (error, req)=>{\n    const errorLog = {\n        message: error.message,\n        stack: error.stack,\n        name: error.name\n    };\n    if (req) {\n        Object.assign(errorLog, logRequest(req));\n    }\n    return errorLog;\n};\nconst logSecurityEvent = (event, req, details = {})=>{\n    logger.warn({\n        message: event,\n        ...details,\n        path: req.url,\n        method: req.method,\n        ip: req.headers[\"x-forwarded-for\"] || req.socket.remoteAddress\n    });\n};\n// Export logger\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2xvZ2dlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDOEI7QUFHOUIsYUFBYTtBQUNiLE1BQU1DLFlBQVlELHFEQUFjLENBQUNHLE9BQU8sQ0FDdENILHFEQUFjLENBQUNJLFNBQVMsSUFDeEJKLHFEQUFjLENBQUNLLE1BQU0sQ0FBQztJQUFFQyxPQUFPO0FBQUssSUFDcENOLHFEQUFjLENBQUNPLElBQUk7QUFHckIseUJBQXlCO0FBQ3pCLE1BQU1DLFNBQVNSLDJEQUFvQixDQUFDO0lBQ2xDVSxPQUFPQyxNQUF5QixHQUFlLElBQVM7SUFDeERULFFBQVFEO0lBQ1JXLGFBQWE7UUFBRUMsU0FBUztJQUFNO0lBQzlCQyxZQUFZO1FBQ1YsNEJBQTRCO1FBQzVCLElBQUlkLDJEQUFrQixDQUFDZSxPQUFPLENBQUM7WUFDN0JiLFFBQVFGLHFEQUFjLENBQUNHLE9BQU8sQ0FDNUJILHFEQUFjLENBQUNnQixRQUFRLElBQ3ZCaEIscURBQWMsQ0FBQ2lCLE1BQU07UUFFekI7UUFDQSwyREFBMkQ7UUFDM0QsSUFBSWpCLDJEQUFrQixDQUFDa0IsSUFBSSxDQUFDO1lBQzFCQyxVQUFVO1lBQ1ZULE9BQU87WUFDUFUsU0FBUztZQUNUQyxVQUFVO1FBQ1o7UUFDQSw2REFBNkQ7UUFDN0QsSUFBSXJCLDJEQUFrQixDQUFDa0IsSUFBSSxDQUFDO1lBQzFCQyxVQUFVO1lBQ1ZDLFNBQVM7WUFDVEMsVUFBVTtRQUNaO0tBQ0Q7QUFDSDtBQUVBLGtCQUFrQjtBQUNYLE1BQU1DLGFBQWEsQ0FBQ0M7SUFDekIsT0FBTztRQUNMQyxRQUFRRCxJQUFJQyxNQUFNO1FBQ2xCQyxLQUFLRixJQUFJRSxHQUFHO1FBQ1pDLE9BQU9ILElBQUlHLEtBQUs7UUFDaEJDLE1BQU1KLElBQUlJLElBQUk7UUFDZEMsTUFBTUwsSUFBSUssSUFBSSxFQUFFQztRQUNoQkMsSUFBSVAsSUFBSVEsT0FBTyxDQUFDLGtCQUFrQixJQUFJUixJQUFJUyxNQUFNLENBQUNDLGFBQWE7SUFDaEU7QUFDRixFQUFFO0FBRUYsZ0JBQWdCO0FBQ1QsTUFBTUMsV0FBVyxDQUFDQyxPQUFjWjtJQUNyQyxNQUFNYSxXQUFXO1FBQ2ZDLFNBQVNGLE1BQU1FLE9BQU87UUFDdEIvQixPQUFPNkIsTUFBTTdCLEtBQUs7UUFDbEJnQyxNQUFNSCxNQUFNRyxJQUFJO0lBQ2xCO0lBRUEsSUFBSWYsS0FBSztRQUNQZ0IsT0FBT0MsTUFBTSxDQUFDSixVQUFVZCxXQUFXQztJQUNyQztJQUVBLE9BQU9hO0FBQ1QsRUFBRTtBQUVLLE1BQU1LLG1CQUFtQixDQUM5QkMsT0FDQW5CLEtBQ0FvQixVQUFtQyxDQUFDLENBQUM7SUFFckNuQyxPQUFPb0MsSUFBSSxDQUFDO1FBQ1ZQLFNBQVNLO1FBQ1QsR0FBR0MsT0FBTztRQUNWRSxNQUFNdEIsSUFBSUUsR0FBRztRQUNiRCxRQUFRRCxJQUFJQyxNQUFNO1FBQ2xCTSxJQUFJUCxJQUFJUSxPQUFPLENBQUMsa0JBQWtCLElBQUlSLElBQUlTLE1BQU0sQ0FBQ0MsYUFBYTtJQUNoRTtBQUNGLEVBQUU7QUFFRixnQkFBZ0I7QUFDRSIsInNvdXJjZXMiOlsid2VicGFjazovL2VkdWNhdGlvbmFsLXBsYXRmb3JtLy4vc3JjL2xpYi9sb2dnZXIudHM/YjQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHdpbnN0b24gZnJvbSAnd2luc3Rvbic7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICd3aW5zdG9uJztcblxuLy8gTG9nIGZvcm1hdFxuY29uc3QgbG9nRm9ybWF0ID0gd2luc3Rvbi5mb3JtYXQuY29tYmluZShcbiAgd2luc3Rvbi5mb3JtYXQudGltZXN0YW1wKCksXG4gIHdpbnN0b24uZm9ybWF0LmVycm9ycyh7IHN0YWNrOiB0cnVlIH0pLFxuICB3aW5zdG9uLmZvcm1hdC5qc29uKClcbik7XG5cbi8vIENyZWF0ZSBsb2dnZXIgaW5zdGFuY2VcbmNvbnN0IGxvZ2dlciA9IHdpbnN0b24uY3JlYXRlTG9nZ2VyKHtcbiAgbGV2ZWw6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnaW5mbycgOiAnZGVidWcnLFxuICBmb3JtYXQ6IGxvZ0Zvcm1hdCxcbiAgZGVmYXVsdE1ldGE6IHsgc2VydmljZTogJ2FwaScgfSxcbiAgdHJhbnNwb3J0czogW1xuICAgIC8vIFdyaXRlIGFsbCBsb2dzIHRvIGNvbnNvbGVcbiAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkNvbnNvbGUoe1xuICAgICAgZm9ybWF0OiB3aW5zdG9uLmZvcm1hdC5jb21iaW5lKFxuICAgICAgICB3aW5zdG9uLmZvcm1hdC5jb2xvcml6ZSgpLFxuICAgICAgICB3aW5zdG9uLmZvcm1hdC5zaW1wbGUoKVxuICAgICAgKVxuICAgIH0pLFxuICAgIC8vIFdyaXRlIGFsbCBsb2dzIHdpdGggbGV2ZWwgJ2Vycm9yJyBhbmQgYmVsb3cgdG8gZXJyb3IubG9nXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHtcbiAgICAgIGZpbGVuYW1lOiAnbG9ncy9lcnJvci5sb2cnLFxuICAgICAgbGV2ZWw6ICdlcnJvcicsXG4gICAgICBtYXhzaXplOiA1MjQyODgwLCAvLyA1TUJcbiAgICAgIG1heEZpbGVzOiA1XG4gICAgfSksXG4gICAgLy8gV3JpdGUgYWxsIGxvZ3Mgd2l0aCBsZXZlbCAnaW5mbycgYW5kIGJlbG93IHRvIGNvbWJpbmVkLmxvZ1xuICAgIG5ldyB3aW5zdG9uLnRyYW5zcG9ydHMuRmlsZSh7XG4gICAgICBmaWxlbmFtZTogJ2xvZ3MvY29tYmluZWQubG9nJyxcbiAgICAgIG1heHNpemU6IDUyNDI4ODAsIC8vIDVNQlxuICAgICAgbWF4RmlsZXM6IDVcbiAgICB9KVxuICBdXG59KTtcblxuLy8gUmVxdWVzdCBsb2dnaW5nXG5leHBvcnQgY29uc3QgbG9nUmVxdWVzdCA9IChyZXE6IE5leHRBcGlSZXF1ZXN0KSA9PiB7XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgIHVybDogcmVxLnVybCxcbiAgICBxdWVyeTogcmVxLnF1ZXJ5LFxuICAgIGJvZHk6IHJlcS5ib2R5LFxuICAgIHVzZXI6IHJlcS51c2VyPy5pZCxcbiAgICBpcDogcmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcS5zb2NrZXQucmVtb3RlQWRkcmVzc1xuICB9O1xufTtcblxuLy8gRXJyb3IgbG9nZ2luZ1xuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yID0gKGVycm9yOiBFcnJvciwgcmVxPzogTmV4dEFwaVJlcXVlc3QpID0+IHtcbiAgY29uc3QgZXJyb3JMb2cgPSB7XG4gICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgbmFtZTogZXJyb3IubmFtZVxuICB9O1xuXG4gIGlmIChyZXEpIHtcbiAgICBPYmplY3QuYXNzaWduKGVycm9yTG9nLCBsb2dSZXF1ZXN0KHJlcSkpO1xuICB9XG5cbiAgcmV0dXJuIGVycm9yTG9nO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvZ1NlY3VyaXR5RXZlbnQgPSAoXG4gIGV2ZW50OiBzdHJpbmcsXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIGRldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge31cbikgPT4ge1xuICBsb2dnZXIud2Fybih7XG4gICAgbWVzc2FnZTogZXZlbnQsXG4gICAgLi4uZGV0YWlscyxcbiAgICBwYXRoOiByZXEudXJsLFxuICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICBpcDogcmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcS5zb2NrZXQucmVtb3RlQWRkcmVzc1xuICB9KTtcbn07XG5cbi8vIEV4cG9ydCBsb2dnZXJcbmV4cG9ydCB7IGxvZ2dlciB9OyAiXSwibmFtZXMiOlsid2luc3RvbiIsImxvZ0Zvcm1hdCIsImZvcm1hdCIsImNvbWJpbmUiLCJ0aW1lc3RhbXAiLCJlcnJvcnMiLCJzdGFjayIsImpzb24iLCJsb2dnZXIiLCJjcmVhdGVMb2dnZXIiLCJsZXZlbCIsInByb2Nlc3MiLCJkZWZhdWx0TWV0YSIsInNlcnZpY2UiLCJ0cmFuc3BvcnRzIiwiQ29uc29sZSIsImNvbG9yaXplIiwic2ltcGxlIiwiRmlsZSIsImZpbGVuYW1lIiwibWF4c2l6ZSIsIm1heEZpbGVzIiwibG9nUmVxdWVzdCIsInJlcSIsIm1ldGhvZCIsInVybCIsInF1ZXJ5IiwiYm9keSIsInVzZXIiLCJpZCIsImlwIiwiaGVhZGVycyIsInNvY2tldCIsInJlbW90ZUFkZHJlc3MiLCJsb2dFcnJvciIsImVycm9yIiwiZXJyb3JMb2ciLCJtZXNzYWdlIiwibmFtZSIsIk9iamVjdCIsImFzc2lnbiIsImxvZ1NlY3VyaXR5RXZlbnQiLCJldmVudCIsImRldGFpbHMiLCJ3YXJuIiwicGF0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/logger.ts\n");

/***/ }),

/***/ "(api)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n// Test database connection\nprisma.$connect().then(()=>{\n    console.log(\"Successfully connected to database\");\n}).catch((error)=>{\n    console.error(\"Failed to connect to database:\", error);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFFOUMsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSSxJQUFJSCx3REFBWUEsR0FBRztBQUVuRSxJQUFJSSxJQUF5QixFQUFjO0lBQ3pDSCxnQkFBZ0JFLE1BQU0sR0FBR0E7QUFDM0I7QUFFQSwyQkFBMkI7QUFDM0JBLE9BQU9FLFFBQVEsR0FDWkMsSUFBSSxDQUFDO0lBQ0pDLFFBQVFDLEdBQUcsQ0FBQztBQUNkLEdBQ0NDLEtBQUssQ0FBQyxDQUFDQztJQUNOSCxRQUFRRyxLQUFLLENBQUMsa0NBQWtDQTtBQUNsRCIsInNvdXJjZXMiOlsid2VicGFjazovL2VkdWNhdGlvbmFsLXBsYXRmb3JtLy4vc3JjL2xpYi9wcmlzbWEudHM/MDFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xufVxuXG4vLyBUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb25cbnByaXNtYS4kY29ubmVjdCgpXG4gIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byBkYXRhYmFzZScpO1xuICB9KVxuICAuY2F0Y2goKGVycm9yOiBFcnJvcikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgfSk7ICJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyIsIiRjb25uZWN0IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./src/middleware/error.ts":
/*!*********************************!*\
  !*** ./src/middleware/error.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: () => (/* binding */ AppError),\n/* harmony export */   errorHandler: () => (/* binding */ errorHandler),\n/* harmony export */   handleError: () => (/* binding */ handleError),\n/* harmony export */   withErrorHandler: () => (/* binding */ withErrorHandler)\n/* harmony export */ });\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/logger */ \"(api)/./src/lib/logger.ts\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/errors */ \"(api)/./src/lib/errors.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"zod\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_2__]);\nzod__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst errorHandler = (err, req, res, next)=>{\n    _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"Error in request handler\", err, req);\n    const errorResponse = (statusCode, response)=>{\n        return res.status(statusCode).json(response);\n    };\n    if (err instanceof zod__WEBPACK_IMPORTED_MODULE_2__.ZodError) {\n        return errorResponse(400, {\n            success: false,\n            error: {\n                message: \"داده‌های نامعتبر\",\n                code: \"VALIDATION_ERROR\",\n                details: err.errors.map((e)=>({\n                        field: e.path.join(\".\"),\n                        message: e.message\n                    }))\n            }\n        });\n    }\n    if (err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.ValidationError) {\n        return errorResponse(400, {\n            success: false,\n            error: {\n                message: err.message,\n                code: \"VALIDATION_ERROR\",\n                details: err.details?.errors.map((e)=>({\n                        field: e.path.join(\".\"),\n                        message: e.message\n                    })) || []\n            }\n        });\n    }\n    if (err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.AuthenticationError) {\n        return errorResponse(401, {\n            success: false,\n            error: {\n                message: err.message,\n                code: \"UNAUTHORIZED\"\n            }\n        });\n    }\n    if (err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.AuthorizationError) {\n        return errorResponse(403, {\n            success: false,\n            error: {\n                message: err.message,\n                code: \"FORBIDDEN\"\n            }\n        });\n    }\n    if (err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.NotFoundError) {\n        return errorResponse(404, {\n            success: false,\n            error: {\n                message: err.message,\n                code: \"NOT_FOUND\"\n            }\n        });\n    }\n    if (err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.DatabaseError || err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.FileUploadError || err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.RateLimitError || err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.SocketError || err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.CacheError || err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.ExternalServiceError) {\n        return errorResponse(500, {\n            success: false,\n            error: {\n                message: err.message,\n                code: \"INTERNAL_SERVER_ERROR\",\n                details: err instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.ExternalServiceError ? {\n                    service: err.service\n                } : undefined\n            }\n        });\n    }\n    return errorResponse(500, {\n        success: false,\n        error: {\n            message: err instanceof Error ? err.message : \"خطای سرور\",\n            code: \"INTERNAL_SERVER_ERROR\"\n        }\n    });\n};\nclass AppError extends Error {\n    constructor(message, statusCode = 500, code = \"INTERNAL_SERVER_ERROR\"){\n        super(message);\n        this.message = message;\n        this.statusCode = statusCode;\n        this.code = code;\n        this.name = \"AppError\";\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\nconst handleError = (error)=>{\n    if (error instanceof AppError) {\n        return {\n            success: false,\n            error: {\n                message: error.message,\n                code: error.code\n            }\n        };\n    }\n    if (error instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_1__.ValidationError) {\n        return {\n            success: false,\n            error: {\n                message: error.message,\n                code: \"VALIDATION_ERROR\",\n                details: error.details?.errors\n            }\n        };\n    }\n    if (error instanceof zod__WEBPACK_IMPORTED_MODULE_2__.ZodError) {\n        return {\n            success: false,\n            error: {\n                message: \"داده‌های نامعتبر\",\n                code: \"VALIDATION_ERROR\",\n                details: error.errors\n            }\n        };\n    }\n    console.error(\"Unhandled Error:\", error);\n    return {\n        success: false,\n        error: {\n            message: \"خطای سرور\",\n            code: \"INTERNAL_SERVER_ERROR\"\n        }\n    };\n};\nconst withErrorHandler = (handler)=>{\n    return async (req, res)=>{\n        try {\n            await handler(req, res);\n        } catch (error) {\n            errorHandler(error, req, res, ()=>{});\n        }\n    };\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbWlkZGxld2FyZS9lcnJvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ3NDO0FBWWhCO0FBRVM7QUFHeEIsTUFBTVksZUFBZSxDQUMxQkMsS0FDQUMsS0FDQUMsS0FDQUM7SUFFQWhCLCtDQUFNQSxDQUFDaUIsS0FBSyxDQUFDLDRCQUE0QkosS0FBS0M7SUFFOUMsTUFBTUksZ0JBQWdCLENBQUNDLFlBQW9CQztRQUN6QyxPQUFPTCxJQUFJTSxNQUFNLENBQUNGLFlBQVlHLElBQUksQ0FBQ0Y7SUFDckM7SUFFQSxJQUFJUCxlQUFlRix5Q0FBUUEsRUFBRTtRQUMzQixPQUFPTyxjQUFjLEtBQUs7WUFDeEJLLFNBQVM7WUFDVE4sT0FBTztnQkFDTE8sU0FBUztnQkFDVEMsTUFBTTtnQkFDTkMsU0FBU2IsSUFBSWMsTUFBTSxDQUFDQyxHQUFHLENBQUNDLENBQUFBLElBQU07d0JBQzVCQyxPQUFPRCxFQUFFRSxJQUFJLENBQUNDLElBQUksQ0FBQzt3QkFDbkJSLFNBQVNLLEVBQUVMLE9BQU87b0JBQ3BCO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsSUFBSVgsZUFBZVosd0RBQWVBLEVBQUU7UUFDbEMsT0FBT2lCLGNBQWMsS0FBSztZQUN4QkssU0FBUztZQUNUTixPQUFPO2dCQUNMTyxTQUFTWCxJQUFJVyxPQUFPO2dCQUNwQkMsTUFBTTtnQkFDTkMsU0FBU2IsSUFBSWEsT0FBTyxFQUFFQyxPQUFPQyxJQUFJQyxDQUFBQSxJQUFNO3dCQUNyQ0MsT0FBT0QsRUFBRUUsSUFBSSxDQUFDQyxJQUFJLENBQUM7d0JBQ25CUixTQUFTSyxFQUFFTCxPQUFPO29CQUNwQixPQUFPLEVBQUU7WUFDWDtRQUNGO0lBQ0Y7SUFFQSxJQUFJWCxlQUFlWCw0REFBbUJBLEVBQUU7UUFDdEMsT0FBT2dCLGNBQWMsS0FBSztZQUN4QkssU0FBUztZQUNUTixPQUFPO2dCQUNMTyxTQUFTWCxJQUFJVyxPQUFPO2dCQUNwQkMsTUFBTTtZQUNSO1FBQ0Y7SUFDRjtJQUVBLElBQUlaLGVBQWVWLDJEQUFrQkEsRUFBRTtRQUNyQyxPQUFPZSxjQUFjLEtBQUs7WUFDeEJLLFNBQVM7WUFDVE4sT0FBTztnQkFDTE8sU0FBU1gsSUFBSVcsT0FBTztnQkFDcEJDLE1BQU07WUFDUjtRQUNGO0lBQ0Y7SUFFQSxJQUFJWixlQUFlVCxzREFBYUEsRUFBRTtRQUNoQyxPQUFPYyxjQUFjLEtBQUs7WUFDeEJLLFNBQVM7WUFDVE4sT0FBTztnQkFDTE8sU0FBU1gsSUFBSVcsT0FBTztnQkFDcEJDLE1BQU07WUFDUjtRQUNGO0lBQ0Y7SUFFQSxJQUFJWixlQUFlUixzREFBYUEsSUFDNUJRLGVBQWVQLHdEQUFlQSxJQUM5Qk8sZUFBZU4sdURBQWNBLElBQzdCTSxlQUFlTCxvREFBV0EsSUFDMUJLLGVBQWVKLG1EQUFVQSxJQUN6QkksZUFBZUgsNkRBQW9CQSxFQUFFO1FBQ3ZDLE9BQU9RLGNBQWMsS0FBSztZQUN4QkssU0FBUztZQUNUTixPQUFPO2dCQUNMTyxTQUFTWCxJQUFJVyxPQUFPO2dCQUNwQkMsTUFBTTtnQkFDTkMsU0FBU2IsZUFBZUgsNkRBQW9CQSxHQUFHO29CQUFFdUIsU0FBU3BCLElBQUlvQixPQUFPO2dCQUFDLElBQUlDO1lBQzVFO1FBQ0Y7SUFDRjtJQUVBLE9BQU9oQixjQUFjLEtBQUs7UUFDeEJLLFNBQVM7UUFDVE4sT0FBTztZQUNMTyxTQUFTWCxlQUFlc0IsUUFBUXRCLElBQUlXLE9BQU8sR0FBRztZQUM5Q0MsTUFBTTtRQUNSO0lBQ0Y7QUFDRixFQUFFO0FBRUssTUFBTVcsaUJBQWlCRDtJQUM1QkUsWUFDRSxPQUFzQixFQUN0QixhQUE0QixHQUFHLEVBQy9CLE9BQXlCLHVCQUF1QixDQUNoRDtRQUNBLEtBQUssQ0FBQ2I7YUFKQ0EsVUFBQUE7YUFDQUwsYUFBQUE7YUFDQU0sT0FBQUE7UUFHUCxJQUFJLENBQUNhLElBQUksR0FBRztRQUNaSCxNQUFNSSxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDRixXQUFXO0lBQ2hEO0FBQ0Y7QUFFTyxNQUFNRyxjQUFjLENBQUN2QjtJQUMxQixJQUFJQSxpQkFBaUJtQixVQUFVO1FBQzdCLE9BQU87WUFDTGIsU0FBUztZQUNUTixPQUFPO2dCQUNMTyxTQUFTUCxNQUFNTyxPQUFPO2dCQUN0QkMsTUFBTVIsTUFBTVEsSUFBSTtZQUNsQjtRQUNGO0lBQ0Y7SUFFQSxJQUFJUixpQkFBaUJoQix3REFBZUEsRUFBRTtRQUNwQyxPQUFPO1lBQ0xzQixTQUFTO1lBQ1ROLE9BQU87Z0JBQ0xPLFNBQVNQLE1BQU1PLE9BQU87Z0JBQ3RCQyxNQUFNO2dCQUNOQyxTQUFTVCxNQUFNUyxPQUFPLEVBQUVDO1lBQzFCO1FBQ0Y7SUFDRjtJQUVBLElBQUlWLGlCQUFpQk4seUNBQVFBLEVBQUU7UUFDN0IsT0FBTztZQUNMWSxTQUFTO1lBQ1ROLE9BQU87Z0JBQ0xPLFNBQVM7Z0JBQ1RDLE1BQU07Z0JBQ05DLFNBQVNULE1BQU1VLE1BQU07WUFDdkI7UUFDRjtJQUNGO0lBRUFjLFFBQVF4QixLQUFLLENBQUMsb0JBQW9CQTtJQUNsQyxPQUFPO1FBQ0xNLFNBQVM7UUFDVE4sT0FBTztZQUNMTyxTQUFTO1lBQ1RDLE1BQU07UUFDUjtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU1pQixtQkFBbUIsQ0FDOUJDO0lBRUEsT0FBTyxPQUFPN0IsS0FBcUJDO1FBQ2pDLElBQUk7WUFDRixNQUFNNEIsUUFBUTdCLEtBQUtDO1FBQ3JCLEVBQUUsT0FBT0UsT0FBTztZQUNkTCxhQUFhSyxPQUFnQkgsS0FBS0MsS0FBSyxLQUFPO1FBQ2hEO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1Y2F0aW9uYWwtcGxhdGZvcm0vLi9zcmMvbWlkZGxld2FyZS9lcnJvci50cz9jZDBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAL2xpYi9sb2dnZXInO1xyXG5pbXBvcnQgeyBcclxuICBWYWxpZGF0aW9uRXJyb3IsXHJcbiAgQXV0aGVudGljYXRpb25FcnJvcixcclxuICBBdXRob3JpemF0aW9uRXJyb3IsXHJcbiAgTm90Rm91bmRFcnJvcixcclxuICBEYXRhYmFzZUVycm9yLFxyXG4gIEZpbGVVcGxvYWRFcnJvcixcclxuICBSYXRlTGltaXRFcnJvcixcclxuICBTb2NrZXRFcnJvcixcclxuICBDYWNoZUVycm9yLFxyXG4gIEV4dGVybmFsU2VydmljZUVycm9yXHJcbn0gZnJvbSAnQC9saWIvZXJyb3JzJztcclxuaW1wb3J0IHR5cGUgeyBBcGlSZXNwb25zZSwgRXJyb3JNaWRkbGV3YXJlLCBFcnJvclJlc3BvbnNlLCBFcnJvckNvZGUgfSBmcm9tICdAL3R5cGVzL2FwaSc7XHJcbmltcG9ydCB7IFpvZEVycm9yIH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgY3JlYXRlRXJyb3JSZXNwb25zZSB9IGZyb20gJ0AvbGliL2FwaVJlc3BvbnNlJztcclxuXHJcbmV4cG9ydCBjb25zdCBlcnJvckhhbmRsZXIgPSAoXHJcbiAgZXJyOiB1bmtub3duLFxyXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXHJcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2UsXHJcbiAgbmV4dDogKGVycj86IHVua25vd24pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgbG9nZ2VyLmVycm9yKCdFcnJvciBpbiByZXF1ZXN0IGhhbmRsZXInLCBlcnIsIHJlcSk7XHJcblxyXG4gIGNvbnN0IGVycm9yUmVzcG9uc2UgPSAoc3RhdHVzQ29kZTogbnVtYmVyLCByZXNwb25zZTogRXJyb3JSZXNwb25zZSkgPT4ge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoc3RhdHVzQ29kZSkuanNvbihyZXNwb25zZSk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKGVyciBpbnN0YW5jZW9mIFpvZEVycm9yKSB7XHJcbiAgICByZXR1cm4gZXJyb3JSZXNwb25zZSg0MDAsIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgbWVzc2FnZTogJ9iv2KfYr9mH4oCM2YfYp9uMINmG2KfZhdi52KrYqNixJyxcclxuICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXHJcbiAgICAgICAgZGV0YWlsczogZXJyLmVycm9ycy5tYXAoZSA9PiAoe1xyXG4gICAgICAgICAgZmllbGQ6IGUucGF0aC5qb2luKCcuJyksXHJcbiAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2VcclxuICAgICAgICB9KSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7XHJcbiAgICByZXR1cm4gZXJyb3JSZXNwb25zZSg0MDAsIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxyXG4gICAgICAgIGRldGFpbHM6IGVyci5kZXRhaWxzPy5lcnJvcnMubWFwKGUgPT4gKHtcclxuICAgICAgICAgIGZpZWxkOiBlLnBhdGguam9pbignLicpLFxyXG4gICAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlXHJcbiAgICAgICAgfSkpIHx8IFtdXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEF1dGhlbnRpY2F0aW9uRXJyb3IpIHtcclxuICAgIHJldHVybiBlcnJvclJlc3BvbnNlKDQwMSwge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgICBjb2RlOiAnVU5BVVRIT1JJWkVEJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmIChlcnIgaW5zdGFuY2VvZiBBdXRob3JpemF0aW9uRXJyb3IpIHtcclxuICAgIHJldHVybiBlcnJvclJlc3BvbnNlKDQwMywge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgICBjb2RlOiAnRk9SQklEREVOJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmIChlcnIgaW5zdGFuY2VvZiBOb3RGb3VuZEVycm9yKSB7XHJcbiAgICByZXR1cm4gZXJyb3JSZXNwb25zZSg0MDQsIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgICAgY29kZTogJ05PVF9GT1VORCdcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZXJyIGluc3RhbmNlb2YgRGF0YWJhc2VFcnJvciB8fCBcclxuICAgICAgZXJyIGluc3RhbmNlb2YgRmlsZVVwbG9hZEVycm9yIHx8IFxyXG4gICAgICBlcnIgaW5zdGFuY2VvZiBSYXRlTGltaXRFcnJvciB8fCBcclxuICAgICAgZXJyIGluc3RhbmNlb2YgU29ja2V0RXJyb3IgfHwgXHJcbiAgICAgIGVyciBpbnN0YW5jZW9mIENhY2hlRXJyb3IgfHwgXHJcbiAgICAgIGVyciBpbnN0YW5jZW9mIEV4dGVybmFsU2VydmljZUVycm9yKSB7XHJcbiAgICByZXR1cm4gZXJyb3JSZXNwb25zZSg1MDAsIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgICAgY29kZTogJ0lOVEVSTkFMX1NFUlZFUl9FUlJPUicsXHJcbiAgICAgICAgZGV0YWlsczogZXJyIGluc3RhbmNlb2YgRXh0ZXJuYWxTZXJ2aWNlRXJyb3IgPyB7IHNlcnZpY2U6IGVyci5zZXJ2aWNlIH0gOiB1bmRlZmluZWRcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXJyb3JSZXNwb25zZSg1MDAsIHtcclxuICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgZXJyb3I6IHtcclxuICAgICAgbWVzc2FnZTogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfYrti32KfbjCDYs9ix2YjYsScsXHJcbiAgICAgIGNvZGU6ICdJTlRFUk5BTF9TRVJWRVJfRVJST1InXHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nLFxyXG4gICAgcHVibGljIHN0YXR1c0NvZGU6IG51bWJlciA9IDUwMCxcclxuICAgIHB1YmxpYyBjb2RlOiBFcnJvckNvZGUgPSAnSU5URVJOQUxfU0VSVkVSX0VSUk9SJ1xyXG4gICkge1xyXG4gICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICB0aGlzLm5hbWUgPSAnQXBwRXJyb3InO1xyXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3I6IHVua25vd24pOiBBcGlSZXNwb25zZSA9PiB7XHJcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgQXBwRXJyb3IpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjoge1xyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgY29kZTogZXJyb3IuY29kZVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcclxuICAgICAgICBkZXRhaWxzOiBlcnJvci5kZXRhaWxzPy5lcnJvcnNcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIFpvZEVycm9yKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBtZXNzYWdlOiAn2K/Yp9iv2YfigIzZh9in24wg2YbYp9mF2LnYqtio2LEnLFxyXG4gICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcclxuICAgICAgICBkZXRhaWxzOiBlcnJvci5lcnJvcnNcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBFcnJvcjonLCBlcnJvcik7XHJcbiAgcmV0dXJuIHtcclxuICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgZXJyb3I6IHtcclxuICAgICAgbWVzc2FnZTogJ9iu2LfYp9uMINiz2LHZiNixJyxcclxuICAgICAgY29kZTogJ0lOVEVSTkFMX1NFUlZFUl9FUlJPUidcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHdpdGhFcnJvckhhbmRsZXIgPSAoXHJcbiAgaGFuZGxlcjogKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiBQcm9taXNlPHZvaWQ+XHJcbikgPT4ge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGhhbmRsZXIocmVxLCByZXMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgZXJyb3JIYW5kbGVyKGVycm9yIGFzIEVycm9yLCByZXEsIHJlcywgKCkgPT4ge30pO1xyXG4gICAgfVxyXG4gIH07XHJcbn07ICJdLCJuYW1lcyI6WyJsb2dnZXIiLCJWYWxpZGF0aW9uRXJyb3IiLCJBdXRoZW50aWNhdGlvbkVycm9yIiwiQXV0aG9yaXphdGlvbkVycm9yIiwiTm90Rm91bmRFcnJvciIsIkRhdGFiYXNlRXJyb3IiLCJGaWxlVXBsb2FkRXJyb3IiLCJSYXRlTGltaXRFcnJvciIsIlNvY2tldEVycm9yIiwiQ2FjaGVFcnJvciIsIkV4dGVybmFsU2VydmljZUVycm9yIiwiWm9kRXJyb3IiLCJlcnJvckhhbmRsZXIiLCJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZXJyb3IiLCJlcnJvclJlc3BvbnNlIiwic3RhdHVzQ29kZSIsInJlc3BvbnNlIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiY29kZSIsImRldGFpbHMiLCJlcnJvcnMiLCJtYXAiLCJlIiwiZmllbGQiLCJwYXRoIiwiam9pbiIsInNlcnZpY2UiLCJ1bmRlZmluZWQiLCJFcnJvciIsIkFwcEVycm9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJoYW5kbGVFcnJvciIsImNvbnNvbGUiLCJ3aXRoRXJyb3JIYW5kbGVyIiwiaGFuZGxlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/middleware/error.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/auth/[...nextauth].ts":
/*!*********************************************!*\
  !*** ./src/pages/api/auth/[...nextauth].ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(api)/./src/lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_auth_providers_linkedin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next-auth/providers/linkedin */ \"next-auth/providers/linkedin\");\n/* harmony import */ var next_auth_providers_linkedin__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_linkedin__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_2__.PrismaAdapter)(_lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma),\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"ایمیل\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"رمز عبور\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error(\"لطفا ایمیل و رمز عبور را وارد کنید\");\n                }\n                const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user) {\n                    throw new Error(\"کاربری با این ایمیل یافت نشد\");\n                }\n                const isValid = await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_4__.compare)(credentials.password, user.password);\n                if (!isValid) {\n                    throw new Error(\"رمز عبور اشتباه است\");\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    image: user.image,\n                    role: user.role\n                };\n            }\n        }),\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_5___default()({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\"\n        }),\n        next_auth_providers_linkedin__WEBPACK_IMPORTED_MODULE_6___default()({\n            clientId: process.env.LINKEDIN_CLIENT_ID || \"\",\n            clientSecret: process.env.LINKEDIN_CLIENT_SECRET || \"\"\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/login\",\n        error: \"/auth/error\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.role = user.role;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user) {\n                session.user.role = token.role;\n            }\n            return session;\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDaUM7QUFDUjtBQUNwQjtBQUNIO0FBRXFCO0FBQ0k7QUFFckQsTUFBTU8sY0FBK0I7SUFDMUNDLFNBQVNOLHdFQUFhQSxDQUFDQywrQ0FBTUE7SUFDN0JNLFdBQVc7UUFDVFIsc0VBQW1CQSxDQUFDO1lBQ2xCUyxNQUFNO1lBQ05DLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQUVDLE9BQU87b0JBQVNDLE1BQU07Z0JBQVE7Z0JBQ3ZDQyxVQUFVO29CQUFFRixPQUFPO29CQUFZQyxNQUFNO2dCQUFXO1lBQ2xEO1lBQ0EsTUFBTUUsV0FBVUwsV0FBVztnQkFDekIsSUFBSSxDQUFDQSxhQUFhQyxTQUFTLENBQUNELGFBQWFJLFVBQVU7b0JBQ2pELE1BQU0sSUFBSUUsTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTUMsT0FBTyxNQUFNZiwrQ0FBTUEsQ0FBQ2UsSUFBSSxDQUFDQyxVQUFVLENBQUM7b0JBQ3hDQyxPQUFPO3dCQUFFUixPQUFPRCxZQUFZQyxLQUFLO29CQUFDO2dCQUNwQztnQkFFQSxJQUFJLENBQUNNLE1BQU07b0JBQ1QsTUFBTSxJQUFJRCxNQUFNO2dCQUNsQjtnQkFFQSxNQUFNSSxVQUFVLE1BQU1qQixpREFBT0EsQ0FBQ08sWUFBWUksUUFBUSxFQUFFRyxLQUFLSCxRQUFRO2dCQUVqRSxJQUFJLENBQUNNLFNBQVM7b0JBQ1osTUFBTSxJQUFJSixNQUFNO2dCQUNsQjtnQkFFQSxPQUFPO29CQUNMSyxJQUFJSixLQUFLSSxFQUFFO29CQUNYVixPQUFPTSxLQUFLTixLQUFLO29CQUNqQkYsTUFBTVEsS0FBS1IsSUFBSTtvQkFDZmEsT0FBT0wsS0FBS0ssS0FBSztvQkFDakJDLE1BQU1OLEtBQUtNLElBQUk7Z0JBQ2pCO1lBQ0Y7UUFDRjtRQUNBbkIsaUVBQWNBLENBQUM7WUFDYm9CLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCLElBQUk7WUFDMUNDLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0csb0JBQW9CLElBQUk7UUFDcEQ7UUFDQXhCLG1FQUFnQkEsQ0FBQztZQUNmbUIsVUFBVUMsUUFBUUMsR0FBRyxDQUFDSSxrQkFBa0IsSUFBSTtZQUM1Q0YsY0FBY0gsUUFBUUMsR0FBRyxDQUFDSyxzQkFBc0IsSUFBSTtRQUN0RDtLQUNEO0lBQ0RDLFNBQVM7UUFDUEMsVUFBVTtJQUNaO0lBQ0FDLE9BQU87UUFDTEMsUUFBUTtRQUNSQyxPQUFPO0lBQ1Q7SUFDQUMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFdEIsSUFBSSxFQUFFO1lBQ3ZCLElBQUlBLE1BQU07Z0JBQ1JzQixNQUFNaEIsSUFBSSxHQUFHTixLQUFLTSxJQUFJO1lBQ3hCO1lBQ0EsT0FBT2dCO1FBQ1Q7UUFDQSxNQUFNUCxTQUFRLEVBQUVBLE9BQU8sRUFBRU8sS0FBSyxFQUFFO1lBQzlCLElBQUlQLFFBQVFmLElBQUksRUFBRTtnQkFDaEJlLFFBQVFmLElBQUksQ0FBQ00sSUFBSSxHQUFHZ0IsTUFBTWhCLElBQUk7WUFDaEM7WUFDQSxPQUFPUztRQUNUO0lBQ0Y7QUFDRixFQUFFO0FBRUYsaUVBQWVqQyxnREFBUUEsQ0FBQ08sWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VkdWNhdGlvbmFsLXBsYXRmb3JtLy4vc3JjL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHM/NTBhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGggZnJvbSAnbmV4dC1hdXRoJztcclxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscyc7XHJcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tICdAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyJztcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiO1xyXG5pbXBvcnQgeyBjb21wYXJlIH0gZnJvbSAnYmNyeXB0anMnO1xyXG5pbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnO1xyXG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGUnO1xyXG5pbXBvcnQgTGlua2VkSW5Qcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2xpbmtlZGluJztcclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xyXG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSxcclxuICBwcm92aWRlcnM6IFtcclxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xyXG4gICAgICBuYW1lOiAnQ3JlZGVudGlhbHMnLFxyXG4gICAgICBjcmVkZW50aWFsczoge1xyXG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiBcItin24zZhduM2YRcIiwgdHlwZTogXCJlbWFpbFwiIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6IFwi2LHZhdiyINi52KjZiNixXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xyXG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign2YTYt9mB2Kcg2KfbjNmF24zZhCDZiCDYsdmF2LIg2LnYqNmI2LEg2LHYpyDZiNin2LHYryDaqdmG24zYrycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9qp2KfYsdio2LHbjCDYqNinINin24zZhiDYp9uM2YXbjNmEINuM2KfZgdiqINmG2LTYrycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IGNvbXBhcmUoY3JlZGVudGlhbHMucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xyXG5cclxuICAgICAgICBpZiAoIWlzVmFsaWQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign2LHZhdiyINi52KjZiNixINin2LTYqtio2KfZhyDYp9iz2KonKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXHJcbiAgICAgICAgICByb2xlOiB1c2VyLnJvbGUgYXMgJ0FETUlOJyB8ICdVU0VSJ1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH0pLFxyXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xyXG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCB8fCAnJyxcclxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCB8fCAnJ1xyXG4gICAgfSksXHJcbiAgICBMaW5rZWRJblByb3ZpZGVyKHtcclxuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkxJTktFRElOX0NMSUVOVF9JRCB8fCAnJyxcclxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5MSU5LRURJTl9DTElFTlRfU0VDUkVUIHx8ICcnXHJcbiAgICB9KVxyXG4gIF0sXHJcbiAgc2Vzc2lvbjoge1xyXG4gICAgc3RyYXRlZ3k6ICdqd3QnXHJcbiAgfSxcclxuICBwYWdlczoge1xyXG4gICAgc2lnbkluOiAnL2F1dGgvbG9naW4nLFxyXG4gICAgZXJyb3I6ICcvYXV0aC9lcnJvcicsXHJcbiAgfSxcclxuICBjYWxsYmFja3M6IHtcclxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB0b2tlbi5yb2xlID0gdXNlci5yb2xlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG4gICAgICBpZiAoc2Vzc2lvbi51c2VyKSB7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlIGFzICdBRE1JTicgfCAnVVNFUic7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHNlc3Npb247XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoYXV0aE9wdGlvbnMpOyAiXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiUHJpc21hQWRhcHRlciIsInByaXNtYSIsImNvbXBhcmUiLCJHb29nbGVQcm92aWRlciIsIkxpbmtlZEluUHJvdmlkZXIiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwiRXJyb3IiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaXNWYWxpZCIsImlkIiwiaW1hZ2UiLCJyb2xlIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiTElOS0VESU5fQ0xJRU5UX0lEIiwiTElOS0VESU5fQ0xJRU5UX1NFQ1JFVCIsInNlc3Npb24iLCJzdHJhdGVneSIsInBhZ2VzIiwic2lnbkluIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/users/suggestions.ts":
/*!********************************************!*\
  !*** ./src/pages/api/users/suggestions.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _auth_nextauth___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../auth/[...nextauth] */ \"(api)/./src/pages/api/auth/[...nextauth].ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prisma */ \"(api)/./src/lib/prisma.ts\");\n/* harmony import */ var _middleware_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/middleware/error */ \"(api)/./src/middleware/error.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"zod\");\n/* harmony import */ var _lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/apiResponse */ \"(api)/./src/lib/apiResponse.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_middleware_error__WEBPACK_IMPORTED_MODULE_3__, zod__WEBPACK_IMPORTED_MODULE_4__]);\n([_middleware_error__WEBPACK_IMPORTED_MODULE_3__, zod__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n// Validation schemas\nconst getSuggestionsSchema = zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n    query: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional(),\n    limit: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional().transform((val)=>Number(val) || 10)\n});\nasync function handler(req, res) {\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(req, res, _auth_nextauth___WEBPACK_IMPORTED_MODULE_1__.authOptions);\n    if (!session) {\n        return res.status(401).json((0,_lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__.createUnauthorizedResponse)(\"لطفا وارد حساب کاربری خود شوید\"));\n    }\n    if (session.user.role !== \"ADMIN\") {\n        return res.status(403).json((0,_lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__.createErrorResponse)(\"شما دسترسی به این بخش را ندارید\", \"FORBIDDEN\"));\n    }\n    try {\n        switch(req.method){\n            case \"GET\":\n                {\n                    const { query, limit } = getSuggestionsSchema.parse(req.query);\n                    let suggestions = [];\n                    if (query) {\n                        // Search for names and emails that match the query\n                        const users = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findMany({\n                            where: {\n                                OR: [\n                                    {\n                                        name: {\n                                            contains: query\n                                        }\n                                    },\n                                    {\n                                        email: {\n                                            contains: query\n                                        }\n                                    }\n                                ]\n                            },\n                            select: {\n                                name: true,\n                                email: true\n                            },\n                            take: limit\n                        });\n                        suggestions = users.flatMap((user)=>[\n                                user.name,\n                                user.email\n                            ]);\n                    } else {\n                        // Get popular names and emails for suggestions\n                        const users = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findMany({\n                            select: {\n                                name: true,\n                                email: true\n                            },\n                            take: limit,\n                            orderBy: {\n                                createdAt: \"desc\"\n                            }\n                        });\n                        suggestions = users.flatMap((user)=>[\n                                user.name,\n                                user.email\n                            ]);\n                    }\n                    // Remove duplicates and limit results\n                    const uniqueSuggestions = Array.from(new Set(suggestions)).slice(0, limit);\n                    const data = {\n                        suggestions: uniqueSuggestions\n                    };\n                    return res.status(200).json((0,_lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__.createApiResponse)(data));\n                }\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\"\n                ]);\n                return res.status(405).json((0,_lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__.createErrorResponse)(`Method ${req.method} Not Allowed`, \"METHOD_NOT_ALLOWED\"));\n        }\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_4__.z.ZodError) {\n            return res.status(400).json((0,_lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__.createValidationErrorResponse)(error.errors.map((err)=>({\n                    field: err.path.join(\".\"),\n                    message: err.message\n                }))));\n        }\n        if (error instanceof _middleware_error__WEBPACK_IMPORTED_MODULE_3__.AppError) {\n            return res.status(error.statusCode).json((0,_lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__.createErrorResponse)(error.message, error.code));\n        }\n        console.error(\"User Suggestions API Error:\", error);\n        return res.status(500).json((0,_lib_apiResponse__WEBPACK_IMPORTED_MODULE_5__.createErrorResponse)(\"خطای سرور\", \"INTERNAL_SERVER_ERROR\"));\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3VzZXJzL3N1Z2dlc3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQ2tEO0FBQ0U7QUFDZDtBQUNRO0FBQ3RCO0FBT0c7QUFFM0IscUJBQXFCO0FBQ3JCLE1BQU1TLHVCQUF1Qkwsa0NBQUNBLENBQUNNLE1BQU0sQ0FBQztJQUNwQ0MsT0FBT1Asa0NBQUNBLENBQUNRLE1BQU0sR0FBR0MsUUFBUTtJQUMxQkMsT0FBT1Ysa0NBQUNBLENBQUNRLE1BQU0sR0FBR0MsUUFBUSxHQUFHRSxTQUFTLENBQUNDLENBQUFBLE1BQU9DLE9BQU9ELFFBQVE7QUFDL0Q7QUFFZSxlQUFlRSxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQW9CO0lBRXBCLE1BQU1DLFVBQVUsTUFBTXJCLGdFQUFnQkEsQ0FBQ21CLEtBQUtDLEtBQUtuQix3REFBV0E7SUFFNUQsSUFBSSxDQUFDb0IsU0FBUztRQUNaLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNqQiw0RUFBMEJBLENBQUM7SUFDekQ7SUFFQSxJQUFJZSxRQUFRRyxJQUFJLENBQUNDLElBQUksS0FBSyxTQUFTO1FBQ2pDLE9BQU9MLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNoQixxRUFBbUJBLENBQUMsbUNBQW1DO0lBQ3JGO0lBRUEsSUFBSTtRQUNGLE9BQVFZLElBQUlPLE1BQU07WUFDaEIsS0FBSztnQkFBTztvQkFDVixNQUFNLEVBQUVmLEtBQUssRUFBRUcsS0FBSyxFQUFFLEdBQUdMLHFCQUFxQmtCLEtBQUssQ0FBQ1IsSUFBSVIsS0FBSztvQkFFN0QsSUFBSWlCLGNBQXdCLEVBQUU7b0JBRTlCLElBQUlqQixPQUFPO3dCQUNULG1EQUFtRDt3QkFDbkQsTUFBTWtCLFFBQVEsTUFBTTNCLCtDQUFNQSxDQUFDc0IsSUFBSSxDQUFDTSxRQUFRLENBQUM7NEJBQ3ZDQyxPQUFPO2dDQUNMQyxJQUFJO29DQUNGO3dDQUFFQyxNQUFNOzRDQUFFQyxVQUFVdkI7d0NBQU07b0NBQUU7b0NBQzVCO3dDQUFFd0IsT0FBTzs0Q0FBRUQsVUFBVXZCO3dDQUFNO29DQUFFO2lDQUM5Qjs0QkFDSDs0QkFDQXlCLFFBQVE7Z0NBQ05ILE1BQU07Z0NBQ05FLE9BQU87NEJBQ1Q7NEJBQ0FFLE1BQU12Qjt3QkFDUjt3QkFFQWMsY0FBY0MsTUFBTVMsT0FBTyxDQUFDZCxDQUFBQSxPQUFRO2dDQUFDQSxLQUFLUyxJQUFJO2dDQUFFVCxLQUFLVyxLQUFLOzZCQUFDO29CQUM3RCxPQUFPO3dCQUNMLCtDQUErQzt3QkFDL0MsTUFBTU4sUUFBUSxNQUFNM0IsK0NBQU1BLENBQUNzQixJQUFJLENBQUNNLFFBQVEsQ0FBQzs0QkFDdkNNLFFBQVE7Z0NBQ05ILE1BQU07Z0NBQ05FLE9BQU87NEJBQ1Q7NEJBQ0FFLE1BQU12Qjs0QkFDTnlCLFNBQVM7Z0NBQ1BDLFdBQVc7NEJBQ2I7d0JBQ0Y7d0JBRUFaLGNBQWNDLE1BQU1TLE9BQU8sQ0FBQ2QsQ0FBQUEsT0FBUTtnQ0FBQ0EsS0FBS1MsSUFBSTtnQ0FBRVQsS0FBS1csS0FBSzs2QkFBQztvQkFDN0Q7b0JBRUEsc0NBQXNDO29CQUN0QyxNQUFNTSxvQkFBb0JDLE1BQU1DLElBQUksQ0FBQyxJQUFJQyxJQUFJaEIsY0FBY2lCLEtBQUssQ0FBQyxHQUFHL0I7b0JBRXBFLE1BQU1nQyxPQUFPO3dCQUNYbEIsYUFBYWE7b0JBQ2Y7b0JBRUEsT0FBT3JCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNsQixtRUFBaUJBLENBQUN5QztnQkFDaEQ7WUFFQTtnQkFDRTFCLElBQUkyQixTQUFTLENBQUMsU0FBUztvQkFBQztpQkFBTTtnQkFDOUIsT0FBTzNCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNoQixxRUFBbUJBLENBQzdDLENBQUMsT0FBTyxFQUFFWSxJQUFJTyxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQ2xDO1FBRU47SUFDRixFQUFFLE9BQU9zQixPQUFPO1FBQ2QsSUFBSUEsaUJBQWlCNUMsa0NBQUNBLENBQUM2QyxRQUFRLEVBQUU7WUFDL0IsT0FBTzdCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNmLCtFQUE2QkEsQ0FDdkR3QyxNQUFNRSxNQUFNLENBQUNDLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFBUTtvQkFDdkJDLE9BQU9ELElBQUlFLElBQUksQ0FBQ0MsSUFBSSxDQUFDO29CQUNyQkMsU0FBU0osSUFBSUksT0FBTztnQkFDdEI7UUFFSjtRQUVBLElBQUlSLGlCQUFpQjdDLHVEQUFRQSxFQUFFO1lBQzdCLE9BQU9pQixJQUFJRSxNQUFNLENBQUMwQixNQUFNUyxVQUFVLEVBQUVsQyxJQUFJLENBQUNoQixxRUFBbUJBLENBQzFEeUMsTUFBTVEsT0FBTyxFQUNiUixNQUFNVSxJQUFJO1FBRWQ7UUFFQUMsUUFBUVgsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBTzVCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNoQixxRUFBbUJBLENBQzdDLGFBQ0E7SUFFSjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1Y2F0aW9uYWwtcGxhdGZvcm0vLi9zcmMvcGFnZXMvYXBpL3VzZXJzL3N1Z2dlc3Rpb25zLnRzPzFjODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL25leHQnO1xyXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJy4uL2F1dGgvWy4uLm5leHRhdXRoXSc7XHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIjtcclxuaW1wb3J0IHsgQXBwRXJyb3IgfSBmcm9tICdAL21pZGRsZXdhcmUvZXJyb3InO1xyXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgQXBpUmVzcG9uc2UgfSBmcm9tICdAL3R5cGVzL2FwaSc7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlQXBpUmVzcG9uc2UsXHJcbiAgY3JlYXRlVW5hdXRob3JpemVkUmVzcG9uc2UsXHJcbiAgY3JlYXRlRXJyb3JSZXNwb25zZSxcclxuICBjcmVhdGVWYWxpZGF0aW9uRXJyb3JSZXNwb25zZVxyXG59IGZyb20gJ0AvbGliL2FwaVJlc3BvbnNlJztcclxuXHJcbi8vIFZhbGlkYXRpb24gc2NoZW1hc1xyXG5jb25zdCBnZXRTdWdnZXN0aW9uc1NjaGVtYSA9IHoub2JqZWN0KHtcclxuICBxdWVyeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIGxpbWl0OiB6LnN0cmluZygpLm9wdGlvbmFsKCkudHJhbnNmb3JtKHZhbCA9PiBOdW1iZXIodmFsKSB8fCAxMCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcclxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXHJcbikge1xyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKHJlcSwgcmVzLCBhdXRoT3B0aW9ucyk7XHJcblxyXG4gIGlmICghc2Vzc2lvbikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKGNyZWF0ZVVuYXV0aG9yaXplZFJlc3BvbnNlKCfZhNi32YHYpyDZiNin2LHYryDYrdiz2KfYqCDaqdin2LHYqNix24wg2K7ZiNivINi02YjbjNivJykpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNlc3Npb24udXNlci5yb2xlICE9PSAnQURNSU4nKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oY3JlYXRlRXJyb3JSZXNwb25zZSgn2LTZhdinINiv2LPYqtix2LPbjCDYqNmHINin24zZhiDYqNiu2LQg2LHYpyDZhtiv2KfYsduM2K8nLCAnRk9SQklEREVOJykpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIHN3aXRjaCAocmVxLm1ldGhvZCkge1xyXG4gICAgICBjYXNlICdHRVQnOiB7XHJcbiAgICAgICAgY29uc3QgeyBxdWVyeSwgbGltaXQgfSA9IGdldFN1Z2dlc3Rpb25zU2NoZW1hLnBhcnNlKHJlcS5xdWVyeSk7XHJcblxyXG4gICAgICAgIGxldCBzdWdnZXN0aW9uczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHF1ZXJ5KSB7XHJcbiAgICAgICAgICAvLyBTZWFyY2ggZm9yIG5hbWVzIGFuZCBlbWFpbHMgdGhhdCBtYXRjaCB0aGUgcXVlcnlcclxuICAgICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZE1hbnkoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgIE9SOiBbXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IHsgY29udGFpbnM6IHF1ZXJ5IH0gfSxcclxuICAgICAgICAgICAgICAgIHsgZW1haWw6IHsgY29udGFpbnM6IHF1ZXJ5IH0gfSxcclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgICBuYW1lOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0YWtlOiBsaW1pdCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gdXNlcnMuZmxhdE1hcCh1c2VyID0+IFt1c2VyLm5hbWUsIHVzZXIuZW1haWxdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gR2V0IHBvcHVsYXIgbmFtZXMgYW5kIGVtYWlscyBmb3Igc3VnZ2VzdGlvbnNcclxuICAgICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZE1hbnkoe1xyXG4gICAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgICBuYW1lOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0YWtlOiBsaW1pdCxcclxuICAgICAgICAgICAgb3JkZXJCeToge1xyXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogJ2Rlc2MnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSB1c2Vycy5mbGF0TWFwKHVzZXIgPT4gW3VzZXIubmFtZSwgdXNlci5lbWFpbF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgYW5kIGxpbWl0IHJlc3VsdHNcclxuICAgICAgICBjb25zdCB1bmlxdWVTdWdnZXN0aW9ucyA9IEFycmF5LmZyb20obmV3IFNldChzdWdnZXN0aW9ucykpLnNsaWNlKDAsIGxpbWl0KTtcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgIHN1Z2dlc3Rpb25zOiB1bmlxdWVTdWdnZXN0aW9ucyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oY3JlYXRlQXBpUmVzcG9uc2UoZGF0YSkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnXSk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKGNyZWF0ZUVycm9yUmVzcG9uc2UoXHJcbiAgICAgICAgICBgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgLFxyXG4gICAgICAgICAgJ01FVEhPRF9OT1RfQUxMT1dFRCdcclxuICAgICAgICApKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oY3JlYXRlVmFsaWRhdGlvbkVycm9yUmVzcG9uc2UoXHJcbiAgICAgICAgZXJyb3IuZXJyb3JzLm1hcChlcnIgPT4gKHtcclxuICAgICAgICAgIGZpZWxkOiBlcnIucGF0aC5qb2luKCcuJyksXHJcbiAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZVxyXG4gICAgICAgIH0pKVxyXG4gICAgICApKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBcHBFcnJvcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyhlcnJvci5zdGF0dXNDb2RlKS5qc29uKGNyZWF0ZUVycm9yUmVzcG9uc2UoXHJcbiAgICAgICAgZXJyb3IubWVzc2FnZSxcclxuICAgICAgICBlcnJvci5jb2RlXHJcbiAgICAgICkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgU3VnZ2VzdGlvbnMgQVBJIEVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbihjcmVhdGVFcnJvclJlc3BvbnNlKFxyXG4gICAgICAn2K7Yt9in24wg2LPYsdmI2LEnLFxyXG4gICAgICAnSU5URVJOQUxfU0VSVkVSX0VSUk9SJ1xyXG4gICAgKSk7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJwcmlzbWEiLCJBcHBFcnJvciIsInoiLCJjcmVhdGVBcGlSZXNwb25zZSIsImNyZWF0ZVVuYXV0aG9yaXplZFJlc3BvbnNlIiwiY3JlYXRlRXJyb3JSZXNwb25zZSIsImNyZWF0ZVZhbGlkYXRpb25FcnJvclJlc3BvbnNlIiwiZ2V0U3VnZ2VzdGlvbnNTY2hlbWEiLCJvYmplY3QiLCJxdWVyeSIsInN0cmluZyIsIm9wdGlvbmFsIiwibGltaXQiLCJ0cmFuc2Zvcm0iLCJ2YWwiLCJOdW1iZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwic2Vzc2lvbiIsInN0YXR1cyIsImpzb24iLCJ1c2VyIiwicm9sZSIsIm1ldGhvZCIsInBhcnNlIiwic3VnZ2VzdGlvbnMiLCJ1c2VycyIsImZpbmRNYW55Iiwid2hlcmUiLCJPUiIsIm5hbWUiLCJjb250YWlucyIsImVtYWlsIiwic2VsZWN0IiwidGFrZSIsImZsYXRNYXAiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwidW5pcXVlU3VnZ2VzdGlvbnMiLCJBcnJheSIsImZyb20iLCJTZXQiLCJzbGljZSIsImRhdGEiLCJzZXRIZWFkZXIiLCJlcnJvciIsIlpvZEVycm9yIiwiZXJyb3JzIiwibWFwIiwiZXJyIiwiZmllbGQiLCJwYXRoIiwiam9pbiIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiY29kZSIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/users/suggestions.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fsuggestions&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cusers%5Csuggestions.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();